function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}import each from"lodash/each";import chroma from"chroma-js";var isNumber=function(a){return!Number.isNaN(parseFloat(a))};export var simpleCheckForValidColor=function(a){var b=0,c=0;return each(["r","g","b","a","h","s","l","v"],function(d){a[d]&&(b+=1,isNumber(a[d])&&(c+=1))}),b===c&&a};export var chromaValidation=function(a){var b=!1;try{a.hex?chroma(a.hex):chroma(a),b=!0}catch(a){b=!1}return b};var valueNaN=function(a){return isNumber(a)?a:0},hslaListToObject=function(a){return{h:valueNaN(a[0]),s:valueNaN(a[1]),l:valueNaN(a[2]),a:valueNaN(a[3])}},rgbaListToObject=function(a){return{r:a[0],g:a[1],b:a[2],a:a[3]}},hsvListToObject=function(a){return{h:valueNaN(a[0]),s:valueNaN(a[1]),v:valueNaN(a[2])}};export var hsvParse=function(a,b){var d=1<b.s?b.s/100:b.s,e=1<b.v?b.v/100:b.v,f=chroma.hsv(+b.h,+d,+e),c=_objectSpread(_objectSpread({},a),{},{hsv:{h:+b.h,s:+d,v:+e},hsl:hslaListToObject(f.hsl()),rgb:rgbaListToObject(f.rgba()),hex:f.hex()});return c};export var toState=function(b,c){var d,e=!1,f=0<=b.a&&1>=b.a?b.a:1;if(b.hex&&("transparent"===b.hex||"transparent"===b))d=chroma("#000000").alpha(0),f=0,e=!0;else if(b.hex)d=chroma(b.hex);else if(b.h&&b.s&&b.l){var g=1<b.s?b.s/100:b.s,h=1<b.l?b.l/100:b.l;d=chroma.hsl(b.h,g,h)}else try{d=chroma(b)}catch(a){d=chroma("#000000")}var i=hslaListToObject(d.alpha(f).hsl()),j=hsvListToObject(d.hsv()),k=d.alpha(f).rgba(),l=rgbaListToObject(k),m=d.alpha(1).hex();return{hsl:i,hex:e?"transparent":m,rgb:l,hsv:j,oldHue:b.h||c||i.h,source:b.source}};// disable hex4 and hex8
// const lh = (String(hex).charAt(0) === '#') ? 1 : 0;
// const result = hex.length !== (4 + lh) && hex.length < (7 + lh) && chroma.valid(hex);
// const hasHas = hex.indexOf('#') !== 0 ? '#' : '';
export var isValidHex=function(a){return chroma.valid(a)};export var getContrastingColor=function(a){if(!a)return"#fff";var b=a;"transparent"===a&&(b={hex:"transparent"});var d=toState(b);if("transparent"===d.hex)return"rgba(0,0,0,0.4)";var e=(299*d.rgb.r+587*d.rgb.g+114*d.rgb.b)/1e3;return 128<=e?"#000":"#fff"};
function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function _iterableToArrayLimit(a,b){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}}function _arrayWithHoles(a){if(Array.isArray(a))return a}import React,{useEffect,useState,useRef}from"react";import reactCSS from"reactcss";import SwapHoriz from"@material-ui/icons/SwapHoriz";import PropTypes from"prop-types";import{isValidHex}from"../../helpers/color";import EditableInput from"../common/EditableInput";var ChromeFields=function(a){var b=a.view,c=a.hex,d=a.rgb,e=a.hsl,f=useState(b),g=_slicedToArray(f,2),h=g[0],i=g[1],j=useRef();useEffect(function(){1!==a.hsl.a&&"hex"===a.view?i("rgb"):i(a.view)},[]),useEffect(function(){1!==a.hsl.a&&"hex"===h&&i("rgb")},[e.a,e.h,e.l,e.s]);var k=function(){"hex"===h?i("rgb"):"rgb"===h?i("hsl"):1===a.hsl.a?i("hex"):i("rgb")},m=function(b,c){var d=_objectSpread({},b);d.r||d.g||d.b?a.onChange({r:d.r||a.rgb.r,g:d.g||a.rgb.g,b:d.b||a.rgb.b,source:"rgb"},c):d.a?(0>d.a?d.a=0:1<d.a&&(d.a=1),a.onChange({h:a.hsl.h,s:a.hsl.s,l:a.hsl.l,a:Math.round(100*d.a)/100,source:"hsl"},c)):d.h||d.s||d.l?("string"==typeof d.s&&d.s.includes("%")&&(d.s=d.s.replace("%","")),"string"==typeof d.l&&d.l.includes("%")&&(d.l=d.l.replace("%","")),a.onChange({h:d.h||a.hsl.h,s:+(d.s||a.hsl.s),l:+(d.l||a.hsl.l),source:"hsl"},c)):isValidHex(d.hex)&&a.onChange({hex:d.hex,source:"hex"},c),b=_objectSpread({},d)},n=function(a){a.currentTarget.style.background="#eee"},o=function(a){a.currentTarget.style.background="transparent"},p=reactCSS({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative",outline:"none"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},a,h),q=/*#__PURE__*/React.createElement("div",{style:p.fields,className:"flexbox-fix"},/*#__PURE__*/React.createElement("div",{style:p.field},/*#__PURE__*/React.createElement(EditableInput,{style:{input:p.input,label:p.label},label:"hex",value:"".concat(c),onChange:m}))),r=/*#__PURE__*/React.createElement("div",{style:p.fields,className:"flexbox-fix"},/*#__PURE__*/React.createElement("div",{style:p.field},/*#__PURE__*/React.createElement(EditableInput,{style:{input:p.input,label:p.label},label:"r",value:"".concat(d.r),onChange:m})),/*#__PURE__*/React.createElement("div",{style:p.field},/*#__PURE__*/React.createElement(EditableInput,{style:{input:p.input,label:p.label},label:"g",value:"".concat(d.g),onChange:m})),/*#__PURE__*/React.createElement("div",{style:p.field},/*#__PURE__*/React.createElement(EditableInput,{style:{input:p.input,label:p.label},label:"b",value:"".concat(d.b),onChange:m})),/*#__PURE__*/React.createElement("div",{style:p.alpha},/*#__PURE__*/React.createElement(EditableInput,{style:{input:p.input,label:p.label},label:"a",value:"".concat(d.a),arrowOffset:.01,onChange:m}))),t=1<e.s?e.s/100:e.s,s=1<e.l?e.l/100:e.l,l=/*#__PURE__*/React.createElement("div",{style:p.fields,className:"flexbox-fix"},/*#__PURE__*/React.createElement("div",{style:p.field},/*#__PURE__*/React.createElement(EditableInput,{style:{input:p.input,label:p.label},label:"h",value:"".concat(Math.round(e.h)),onChange:m})),/*#__PURE__*/React.createElement("div",{style:p.field},/*#__PURE__*/React.createElement(EditableInput,{style:{input:p.input,label:p.label},label:"s",value:"".concat(Math.round(100*t),"%"),onChange:m})),/*#__PURE__*/React.createElement("div",{style:p.field},/*#__PURE__*/React.createElement(EditableInput,{style:{input:p.input,label:p.label},label:"l",value:"".concat(Math.round(100*s),"%"),onChange:m})),/*#__PURE__*/React.createElement("div",{style:p.alpha},/*#__PURE__*/React.createElement(EditableInput,{style:{input:p.input,label:p.label},label:"a",value:"".concat(e.a),arrowOffset:.01,onChange:m})));return/*#__PURE__*/React.createElement("div",{style:p.wrap,className:"flexbox-fix",id:"chromeFields"},/*#__PURE__*/React.createElement("div",{style:_objectSpread(_objectSpread({},p.fields),{},{display:"rgb"===h?"flex":"none"}),className:"flexbox-fix"},r),/*#__PURE__*/React.createElement("div",{style:_objectSpread(_objectSpread({},p.fields),{},{display:"hsl"===h?"flex":"none"}),className:"flexbox-fix"},l),/*#__PURE__*/React.createElement("div",{style:_objectSpread(_objectSpread({},p.fields),{},{display:"hex"===h?"flex":"none"}),className:"flexbox-fix"},q),/*#__PURE__*/React.createElement("div",{style:p.toggle},/*#__PURE__*/React.createElement("div",{style:p.icon,onKeyDown:k,onClick:k,ref:j,role:"button",tabIndex:0},/*#__PURE__*/React.createElement(SwapHoriz,{style:p.svg,onMouseOver:n,onFocus:n,onMouseEnter:n,onMouseOut:o,onBlur:o}))))};ChromeFields.propTypes={hsl:PropTypes.shape({h:PropTypes.number.isRequired,l:PropTypes.number.isRequired,s:PropTypes.number.isRequired,a:PropTypes.number.isRequired}).isRequired,rgb:PropTypes.shape({r:PropTypes.number.isRequired,g:PropTypes.number.isRequired,b:PropTypes.number.isRequired,a:PropTypes.number.isRequired}).isRequired,onChange:PropTypes.func.isRequired,hex:PropTypes.string.isRequired,view:PropTypes.oneOf(["hex","rgb","hsl"])},ChromeFields.defaultProps={view:"hex"};export default ChromeFields;
{"ast":null,"code":"const now = () => new Date().getTime();\n\nexport const getFromLocalStorage = key => {\n  let entry = window.localStorage.getItem(key);\n\n  if (!entry || entry === undefined || entry === \"undefined\") {\n    return null;\n  }\n\n  let entry_data = JSON.parse(entry);\n  let expiry = entry_data.now + entry_data.ttl;\n\n  if (entry_data.ttl && expiry < now()) {\n    window.localStorage.removeItem(key);\n    return null;\n  }\n\n  return entry_data.value;\n}; //will keep item for 10mins where ttl is not provided\n\nexport const setLocalStorage = (key, value, ttl) => {\n  window.localStorage.setItem(key, JSON.stringify({\n    ttl: ttl || 60 * 60 * 1000,\n    now: now(),\n    value: value\n  }));\n};\nexport const removeItem = key => {\n  window.localStorage.removeItem(key);\n};","map":{"version":3,"names":["now","Date","getTime","getFromLocalStorage","key","entry","window","localStorage","getItem","undefined","entry_data","JSON","parse","expiry","ttl","removeItem","value","setLocalStorage","setItem","stringify"],"sources":["/Users/wachiye/works/uncover/staff/src/utils/local-storage.js"],"sourcesContent":["const now  = () => (new Date()).getTime();\n\nexport const getFromLocalStorage = (key) => {\n    let  entry = window.localStorage.getItem(key);\n    if (!entry || entry === undefined || entry === \"undefined\" ) {\n        return null;\n    }\n    let entry_data = JSON.parse(entry);\n    let expiry = entry_data.now  + entry_data.ttl;\n\n    if (entry_data.ttl && expiry < now()) {\n        window.localStorage.removeItem(key);\n        return null;\n    }\n    return entry_data.value;\n} \n//will keep item for 10mins where ttl is not provided\nexport const setLocalStorage = (key, value, ttl) => {\n\n    window.localStorage.setItem( key, JSON.stringify({\n        ttl   : ttl || 60*60*1000,\n        now   : now(),\n        value : value\n    }));\n} \nexport const removeItem = (key) => {\n    window.localStorage.removeItem(key);\n}\n"],"mappings":"AAAA,MAAMA,GAAG,GAAI,MAAO,IAAIC,IAAJ,EAAD,CAAaC,OAAb,EAAnB;;AAEA,OAAO,MAAMC,mBAAmB,GAAIC,GAAD,IAAS;EACxC,IAAKC,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BJ,GAA5B,CAAb;;EACA,IAAI,CAACC,KAAD,IAAUA,KAAK,KAAKI,SAApB,IAAiCJ,KAAK,KAAK,WAA/C,EAA6D;IACzD,OAAO,IAAP;EACH;;EACD,IAAIK,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWP,KAAX,CAAjB;EACA,IAAIQ,MAAM,GAAGH,UAAU,CAACV,GAAX,GAAkBU,UAAU,CAACI,GAA1C;;EAEA,IAAIJ,UAAU,CAACI,GAAX,IAAkBD,MAAM,GAAGb,GAAG,EAAlC,EAAsC;IAClCM,MAAM,CAACC,YAAP,CAAoBQ,UAApB,CAA+BX,GAA/B;IACA,OAAO,IAAP;EACH;;EACD,OAAOM,UAAU,CAACM,KAAlB;AACH,CAbM,C,CAcP;;AACA,OAAO,MAAMC,eAAe,GAAG,CAACb,GAAD,EAAMY,KAAN,EAAaF,GAAb,KAAqB;EAEhDR,MAAM,CAACC,YAAP,CAAoBW,OAApB,CAA6Bd,GAA7B,EAAkCO,IAAI,CAACQ,SAAL,CAAe;IAC7CL,GAAG,EAAKA,GAAG,IAAI,KAAG,EAAH,GAAM,IADwB;IAE7Cd,GAAG,EAAKA,GAAG,EAFkC;IAG7CgB,KAAK,EAAGA;EAHqC,CAAf,CAAlC;AAKH,CAPM;AAQP,OAAO,MAAMD,UAAU,GAAIX,GAAD,IAAS;EAC/BE,MAAM,CAACC,YAAP,CAAoBQ,UAApB,CAA+BX,GAA/B;AACH,CAFM"},"metadata":{},"sourceType":"module"}
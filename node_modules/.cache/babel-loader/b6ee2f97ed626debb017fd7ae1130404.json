{"ast":null,"code":"var _jsxFileName = \"/Users/wachiye/works/uncover/staff/src/context/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, createContext, useReducer } from \"react\";\nimport Reducer from './Reducer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  user: {}\n};\nexport const Context = /*#__PURE__*/createContext(initialState);\n\nconst Store = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(Reducer, initialState); //persist login\n\n  useEffect(() => {\n    const fetchLocatData = async () => {\n      const localState = localStorage.getItem('user');\n      const stateValue = await JSON.parse(localState || '{}');\n\n      if (stateValue && stateValue !== \"{}\") {\n        console.log(\"----\" + JSON.stringify(stateValue));\n        dispatch({\n          type: 'CREATE',\n          key: 'user',\n          payload: stateValue\n        });\n      }\n    };\n\n    fetchLocatData().catch(console.error);\n  }, []);\n  useEffect(() => {\n    localStorage.setItem('user', JSON.stringify(state.user));\n  }, [state.user]);\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: [state, dispatch],\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Store, \"GUSXxL/WUElrtHc/X73NyHNRMdw=\");\n\n_c = Store;\nexport default Store;\n\nvar _c;\n\n$RefreshReg$(_c, \"Store\");","map":{"version":3,"names":["React","useEffect","createContext","useReducer","Reducer","initialState","user","Context","Store","children","state","dispatch","fetchLocatData","localState","localStorage","getItem","stateValue","JSON","parse","console","log","stringify","type","key","payload","catch","error","setItem"],"sources":["/Users/wachiye/works/uncover/staff/src/context/index.tsx"],"sourcesContent":["import React, {useEffect, createContext, ReactNode, useReducer} from \"react\";   \nimport Reducer from './Reducer';                                                                                                                                              \nimport { IState} from \"./Interface\";\n\nconst initialState: IState = {\n   user:{}\n};\n                                                                                                                          \nexport const Context = createContext<IState | any>(initialState);                               \n                                                                                \nconst Store = ({children}: {children:ReactNode}) => {                                                 \n    const [state, dispatch] = useReducer(Reducer, initialState);\n    \n    //persist login\n    useEffect(() => {  \n        const fetchLocatData = async () => {\n            const localState = localStorage.getItem('user');\n            const stateValue = await JSON.parse(localState || '{}'); \n            if (stateValue && stateValue !== \"{}\") {   \n                \n            console.log(\"----\" + JSON.stringify(stateValue));                                                   \n                dispatch({type: 'CREATE', key:'user', payload: stateValue}); \n            }  \n         }\n         fetchLocatData().catch(console.error);                                                                  \n    }, []);                                                                     \n                                                                                \n    useEffect(() => {           \n        localStorage.setItem('user', JSON.stringify(state.user))                    \n    }, [state.user])                                                                 \n\n    return (                                                                    \n        <Context.Provider value={[state, dispatch]}>                            \n            {children}                                                          \n        </Context.Provider>                                                     \n    )                                                                           \n}; \n\nexport default Store;\n\n\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,aAA1B,EAAoDC,UAApD,QAAqE,OAArE;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAGA,MAAMC,YAAoB,GAAG;EAC1BC,IAAI,EAAC;AADqB,CAA7B;AAIA,OAAO,MAAMC,OAAO,gBAAGL,aAAa,CAAeG,YAAf,CAA7B;;AAEP,MAAMG,KAAK,GAAG,QAAsC;EAAA;;EAAA,IAArC;IAACC;EAAD,CAAqC;EAChD,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,UAAU,CAACC,OAAD,EAAUC,YAAV,CAApC,CADgD,CAGhD;;EACAJ,SAAS,CAAC,MAAM;IACZ,MAAMW,cAAc,GAAG,YAAY;MAC/B,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAnB;MACA,MAAMC,UAAU,GAAG,MAAMC,IAAI,CAACC,KAAL,CAAWL,UAAU,IAAI,IAAzB,CAAzB;;MACA,IAAIG,UAAU,IAAIA,UAAU,KAAK,IAAjC,EAAuC;QAEvCG,OAAO,CAACC,GAAR,CAAY,SAASH,IAAI,CAACI,SAAL,CAAeL,UAAf,CAArB;QACIL,QAAQ,CAAC;UAACW,IAAI,EAAE,QAAP;UAAiBC,GAAG,EAAC,MAArB;UAA6BC,OAAO,EAAER;QAAtC,CAAD,CAAR;MACH;IACH,CARF;;IASCJ,cAAc,GAAGa,KAAjB,CAAuBN,OAAO,CAACO,KAA/B;EACJ,CAXQ,EAWN,EAXM,CAAT;EAaAzB,SAAS,CAAC,MAAM;IACZa,YAAY,CAACa,OAAb,CAAqB,MAArB,EAA6BV,IAAI,CAACI,SAAL,CAAeX,KAAK,CAACJ,IAArB,CAA7B;EACH,CAFQ,EAEN,CAACI,KAAK,CAACJ,IAAP,CAFM,CAAT;EAIA,oBACI,QAAC,OAAD,CAAS,QAAT;IAAkB,KAAK,EAAE,CAACI,KAAD,EAAQC,QAAR,CAAzB;IAAA,UACKF;EADL;IAAA;IAAA;IAAA;EAAA,QADJ;AAKH,CA1BD;;GAAMD,K;;KAAAA,K;AA4BN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}